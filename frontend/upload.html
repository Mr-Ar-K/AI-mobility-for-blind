<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload | Object Detection</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen relative">
<!-- User Profile Logo - Top Left -->
<div class="absolute top-4 left-4 cursor-pointer bg-blue-600 w-10 h-10 rounded-full flex items-center justify-center shadow hover:shadow-md">
  <!-- User Icon SVG -->
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
    <path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z"/>
  </svg>
</div>

<!-- Settings Logo - Top Right -->
<div class="absolute top-4 right-4 cursor-pointer bg-gray-200 w-10 h-10 rounded-full flex items-center justify-center shadow hover:shadow-md">
  <!-- Gear Icon SVG -->
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-700" fill="currentColor" viewBox="0 0 24 24">
    <path d="M19.43 12.98c.04-.32.07-.66.07-1s-.03-.68-.07-1l2.11-1.65a.504.504 0 00.12-.65l-2-3.46a.5.5 0 00-.61-.22l-2.49 1a7.007 7.007 0 00-1.7-.99l-.38-2.65A.5.5 0 0014 2h-4c-.26 0-.48.19-.5.45l-.38 2.65c-.63.24-1.22.57-1.7.99l-2.49-1a.5.5 0 00-.61.22l-2 3.46c-.14.24-.09.54.12.65l2.11 1.65c-.04.32-.07.66-.07 1s.03.68.07 1l-2.11 1.65a.504.504 0 00-.12.65l2 3.46c.14.24.42.33.61.22l2.49-1c.48.42 1.07.75 1.7.99l.38 2.65c.02.26.24.45.5.45h4c.26 0 .48-.19.5-.45l.38-2.65c.63-.24 1.22-.57 1.7-.99l2.49 1c.19.11.47.02.61-.22l2-3.46a.5.5 0 00-.12-.65l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/>
  </svg>
</div>
  <!-- Title -->
  <h1 class="text-4xl font-bold text-blue-600 absolute top-16 left-1/2 transform -translate-x-1/2 text-center">
    Object Detection
  </h1>

  <!-- Voice instruction -->
  <div id="voicePrompt" class="absolute top-36 left-1/2 transform -translate-x-1/2 text-center text-gray-700">
    Click anywhere to start voice commands
  </div>

  <!-- Upload Card -->
  <div class="bg-white p-8 rounded-2xl shadow-md w-96 text-center">
    <h2 class="text-2xl font-bold mb-6">Upload Video</h2>

    <input type="file" id="videoFile" accept="video/*" class="w-full mb-4">

    <button id="submitBtn" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition">
      Submit Video
    </button>

    <p class="text-gray-500 mt-2 text-sm">Say "upload file" for file selection or "submit" to submit video</p>
  </div>

  <script>
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.continuous = true;
    recognition.interimResults = false;
    recognition.lang = 'en-US';

    function speak(text){const u=new SpeechSynthesisUtterance(text);speechSynthesis.speak(u);}

    function submitVideo(){
      const fileInput=document.getElementById("videoFile");
      if(fileInput.files.length===0){
        speak("Please select a video file first.");
      } else {
        speak("Video submitted. Processing now...");
        setTimeout(()=>window.location.href="result.html",1000);
      }
    }

    window.onload = ()=>{
      const promptDiv=document.getElementById("voicePrompt");
      document.body.addEventListener("click",()=>{
        recognition.start();
        speak("Voice recognition started. Say 'upload file' for file selection.");
        promptDiv.style.display="none";
      },{once:true});
    };

    function handleVoiceCommand(text){
      text=text.toLowerCase().trim();
      if(text.includes("upload file")){
        document.getElementById("videoFile").click();
        speak("Please select a video file.");
      } else if(text.includes("submit")){
        submitVideo();
      }
    }

    recognition.onresult=(event)=>{
      handleVoiceCommand(event.results[event.resultIndex][0].transcript);
    };

    recognition.onerror=(event)=>{
      console.error("Speech Recognition Error:",event.error);
    };

    document.getElementById("submitBtn").addEventListener("click",submitVideo);
  </script>
</body>
</html>
