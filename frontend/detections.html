<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Detections | Object Detection Application</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #b6a4cc;
      width: 100vw;
      box-sizing: border-box;
    }
    .nav {
      display: flex;
      width: 100%;
      max-width: 950px;
      margin: 0 auto;
    }
    .nav button.upload-btn   { background-color: #09656b; }
    .nav button.detect-btn   { background-color: #485e13; }
    .nav button.about-btn    { background-color: #5a210b; }
    .nav button {
      flex: 1;
      border: none;
      color: #fff;
      font-size: 1.28rem;
      padding: 18px 0;
      cursor: pointer;
      outline: none;
      border-radius: 0;
      transition: transform 0.2s, opacity 0.2s;
    }
    .nav button:active, .nav button:focus {
      outline: 2px solid #ffd966;
      z-index: 2;
    }
    .nav button:hover {
      opacity: 0.92;
      transform: scale(1.04);
    }
    .detections-main {
      background: #476b0c;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.18);
      color: #fff;
      margin: 36px auto 0 auto;
      width: 97vw;
      max-width: 950px;
      min-height: 65vh;
      padding: 32px 18px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .detections-main h1 {
      color: #ffd966;
      margin-bottom: 20px;
      font-size: 2rem;
    }
    .detections-panels {
      display: flex;
      gap: 32px;
      width: 100%;
      max-width: 870px;
      justify-content: center;
      padding-top: 8px;
      padding-bottom: 8px;
    }
    .panel {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.13);
      flex: 1 1 0px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      min-height: 440px;
      padding: 18px 15px;
    }
    .panel-title {
      color: #476b0c;
      font-size: 1.08rem;
      font-weight: bold;
      margin-bottom: 13px;
      letter-spacing: 0.2px;
      text-align: left;
    }
    .search-bar {
      background: #444;
      border: none;
      border-radius: 7px;
      padding: 10px 14px;
      font-size: 1.07rem;
      color: #eee;
      margin-bottom: 13px;
      outline: none;
      width: 100%;
      box-sizing: border-box;
      box-shadow: 0 1px 5px rgba(0,0,0,0.15);
      display: block;
    }
    .panel-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #485e13;
      font-size: 1.09rem;
      background: none;
      min-height: 220px;
      padding-top: 6px;
    }
    @media (max-width: 900px) {
      .detections-panels { flex-direction: column; gap: 22px; }
      .panel { min-height: 220px; }
    }
  </style>
</head>
<body onload="runSpeechGuide()">
  <div style="width:100vw; max-width:950px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; position:relative; height:48px;">
  <button style="color:#444;background:none;border:none;font-size:2.2rem;cursor:pointer;padding:6px 16px 2px 16px;">
    <i class="fa-solid fa-user"></i>
  </button>
  <button style="color:#444;background:none;border:none;font-size:2.2rem;cursor:pointer;padding:6px 16px 2px 16px;">
    <i class="fa-solid fa-gear"></i>
  </button>
</div>

  <div class="nav">
    <button class="upload-btn" onclick="window.location.href='upload2.html'">Upload</button>
    <button class="detect-btn" onclick="window.location.href='data.html'">My Detections</button>
    <button class="about-btn" onclick="window.location.href='about.html'">About</button>
  </div>
  <div class="detections-main">
    <h1>My Detections</h1>
    <div class="detections-panels">
      <!-- Video Files Division -->
      <div class="panel">
        <div class="panel-title">Video Files</div>
        <input class="search-bar" type="text" placeholder="Search video..." />
        <div class="panel-content">
          No video files uploaded yet.
        </div>
      </div>
      <!-- Audio Output Division -->
      <div class="panel">
        <div class="panel-title">Audio Output</div>
        <input class="search-bar" type="text" placeholder="Search audio..." />
        <div class="panel-content">
          No audio output files available yet.
        </div>
      </div>
    </div>
  </div>
  <script>
    function speak(text, cb) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.rate = 1;
      utterance.pitch = 1;
      utterance.lang = "en-US";
      utterance.onend = () => cb && cb();
      speechSynthesis.speak(utterance);
    }
    function runSpeechGuide() {
      let intro = "This is My Detections. Here you will have your audio and video files that are detected when you have uploaded them.";
      let outro = "Say 'Go back' to go to homepage.";
      speak(intro, () => {
        speak(outro, startListening);
      });
    }
    function startListening() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) { return; }
      const recognition = new SpeechRecognition();
      recognition.lang = "en-US";
      recognition.continuous = false;
      recognition.interimResults = false;
      recognition.start();
      recognition.onresult = (event) => {
        const command = event.results[0][0].transcript.toLowerCase();
        if (command.includes("go back")) {
          window.location.href = "homepage.html"; // Change this to your homepage filename
        }
        // If not "go back", do nothing. No error speech.
      };
      recognition.onerror = () => {
        // Do nothing if error, do not speak
      };
    }
  </script>
</body>
</html>
